"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handlePageUnlink = void 0;
const core_1 = require("@vuepress/core");
/**
 * Event handler for page unlink event
 */
const handlePageUnlink = async (app, filePath) => {
    // check if the unlinked page is existed
    const pageIndex = app.pages.findIndex((page) => page.filePath === filePath);
    if (pageIndex === -1) {
        return;
    }
    // remove the old page
    app.pages.splice(pageIndex, 1);
    // re-prepare page files
    await core_1.preparePagesComponents(app);
    await core_1.preparePagesData(app);
    await core_1.preparePagesRoutes(app);
};
exports.handlePageUnlink = handlePageUnlink;
